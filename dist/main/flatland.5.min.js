"use strict";!function(e){function t(){}function i(e){for(var t=0,i=0,n=void 0;i<e.length;i++)n=(i+1)%e.length,
t+=e[i].x*e[n].y,t-=e[n].x*e[i].y;return t/2}function n(e,t,i,n){
t&&i||(e.computeBoundingBox(),t=t||e.boundingBox.min,i=i||e.boundingBox.max);
var r=new n.Vector2(0-t.x,0-t.y),a=new n.Vector2(i.x-t.x,i.y-t.y),s=e.faces;
e.faceVertexUvs[0]=[];for(var o=0;o<s.length;o++){var u=e.vertices[s[o].a],c=e.vertices[s[o].b],l=e.vertices[s[o].c];
e.faceVertexUvs[0].push([new n.Vector2((u.x+r.x)/a.x,(u.y+r.y)/a.y),new n.Vector2((c.x+r.x)/a.x,(c.y+r.y)/a.y),new n.Vector2((l.x+r.x)/a.x,(l.y+r.y)/a.y)]);
}e.uvsNeedUpdate=!0}var r="Flatland",a="0.0.2",s="http://flatland.loop.coop/",o=e.Flatland=$traceurRuntime.createClass(function(){
var t=void 0!==arguments[0]?arguments[0]:{},i={THREE:o.stubs.THREE,
antialias:!0,wrap:e.document?e.document.body:o.stubs.body,WINDOW:e.innerWidth?e:o.stubs.window
};i.width=i.WINDOW.innerWidth,i.height=i.WINDOW.innerHeight,Object.assign(this,i,t),
this.id=0,this.els=[],this.ids={},this.focus=0,this.materials={},this.geometries={},
this.textureLoader=new this.THREE.TextureLoader,this.svgLoader=new this.THREE.SVGLoader,
this.camera=new this.THREE.PerspectiveCamera(25,this.width/this.height,1,1e3),this.camera.position.set(-.5,.7,6),
this.scene=new this.THREE.Scene,this.renderer=new this.THREE.WebGLRenderer({
antialias:!0}),this.renderer.setSize(this.width,this.height),this.wrap.appendChild(this.renderer.domElement),
this.controls=new this.THREE.OrbitControls(this.camera,this.wrap),this.add({
class:o.El.Light.Ambient,color:16777215,intensity:.5})},{render:function(){
void 0!==arguments[0]?arguments[0]:{};this.renderer.render(this.scene,this.camera);
},add:function(){var e=void 0!==arguments[0]?arguments[0]:{},t=e.id=this.id++,i=e.z=this.els.length,n=this.ids[t]=this.els[i]=new e.class(e,this);
return n.ref&&this.scene.add(n.ref),t},edit:function(){var e=void 0!==arguments[0]?arguments[0]:{},t=this.ids[e.id];
t&&t.edit(e)},trigger:function(e){var t=this;t.ids,t.id},getMaterial:function(e){
if(this.materials[e])return this.materials[e];var t=this.textureLoader.load(e);
return t.wrapS=t.wrapT=this.THREE.MirroredRepeatWrapping,this.materials[e]=new this.THREE.MeshBasicMaterial({
color:8421504,map:t,wireframe:!1})},getGeometry:function(e,t){var r=this;
return this.geometries[e]?this.geometries[e]:void this.svgLoader.load(e,function(a){
if("parsererror"===a.tagName)return console.warn("Cannot parse "+e);
var s=parseInt(a.getAttribute("width")),o=parseInt(a.getAttribute("height")),u=[];
if(s!==o)return console.warn("width "+s+" !== height "+o);for(var c=0,l=void 0;l=a.childNodes[c++];)if(l.tagName){
if("polygon"!==l.tagName.toLowerCase())return console.warn(e+" unexpected node.tagName");
u.push([]);for(var d=l.getAttribute("points").replace(/\s+/g," ").replace(/\s+$/,"").split(" "),h=0,f=void 0,g=void 0;f=d[h++];)g=f.split(","),
u[u.length-1].push(new r.THREE.Vector2(g[0]/s-.5,-g[1]/s+1))}for(var m=new r.THREE.Shape(u.shift()),p=0,E=void 0;E=u[p++];)0>i(E)&&(E.reverse(),
console.log("Fixed a clockwise hole!")),E.unshift(E[0]),m.holes.push(new r.THREE.Path(E));
var b=new r.THREE.ExtrudeGeometry(m,{amount:.02,steps:1,material:0,
extrudeMaterial:1,bevelEnabled:!1,bevelThickness:.1,bevelSize:.2,
bevelSegments:1});n(b,{x:-.5,y:0},{x:.5,y:1},r.THREE),t(b)},function(){
console.log("Loading SVG..."),t(!1)},function(){console.warn("Error loading SVG!"),
t(!1)})}},{});o.NAME=r,o.VERSION=a,o.HOMEPAGE=s,o.stubs={window:{
innerWidth:800,innerHeight:600},body:{appendChild:t},THREE:{PerspectiveCamera:$traceurRuntime.createClass(function(){
this.position={set:t}},{},{}),Scene:$traceurRuntime.createClass(function(){},{
add:function(){}},{}),WebGLRenderer:$traceurRuntime.createClass(function(){},{
setSize:function(){}},{}),OrbitControls:$traceurRuntime.createClass(function(){},{},{}),
AmbientLight:$traceurRuntime.createClass(function(){},{},{}),TextureLoader:$traceurRuntime.createClass(function(){},{},{}),
SVGLoader:$traceurRuntime.createClass(function(){},{load:function(e,t){
t({getAttribute:function(){return 1024},childNodes:[xc]})}},{}),MeshBasicMaterial:$traceurRuntime.createClass(function(){},{},{}),
MirroredRepeatWrapping:8,Vector2:$traceurRuntime.createClass(function(){},{},{}),
Shape:$traceurRuntime.createClass(function(){},{},{}),Path:$traceurRuntime.createClass(function(){},{},{}),
ExtrudeGeometry:$traceurRuntime.createClass(function(){},{},{})}};
}("object"==("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
!function(e){e.Flatland.El=$traceurRuntime.createClass(function(e,t){},{},{});
}("object"==("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
!function(e){e.Flatland.El.Cutout=function(t){function i(t,n){var r;
$traceurRuntime.superConstructor(i).call(this,t,n);var a={bitmap:e.Flatland.HOMEPAGE+"/support/assets/test-1024.jpg",
svg:e.Flatland.HOMEPAGE+"/support/assets/test.svg"};Object.assign(this,a,t,{
app:n}),this.material=n.getMaterial(this.bitmap),n.getGeometry(this.svg,(r=this,
function(e){e&&(r.ref=new n.THREE.Mesh(e,new n.THREE.MultiMaterial([r.material,r.material])),
n.scene.add(r.ref))}))}return $traceurRuntime.createClass(i,{},{},t);
}(e.Flatland.El)}("object"==("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
!function(e){e.Flatland.El.Light=function(e){function t(e,i){$traceurRuntime.superConstructor(t).call(this,e,i);
}return $traceurRuntime.createClass(t,{},{},e)}(e.Flatland.El)}("object"==("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
!function(e){e.Flatland.El.Light.Ambient=function(e){function t(e,i){
$traceurRuntime.superConstructor(t).call(this,e,i);var n={color:16777215,
intensity:.5};Object.assign(this,n,e,{app:i}),this.ref=new i.THREE.AmbientLight(this.color,this.intensity);
}return $traceurRuntime.createClass(t,{},{},e)}(e.Flatland.El.Light);
}("object"==("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this);



//\\//\\ built by Oopish Make 0.0.9 //\\//\\ http://ootility.oopish.com //\\//\\
